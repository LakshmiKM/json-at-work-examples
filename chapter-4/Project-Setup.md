Test Project Setup
==================
Here's how to create the `speakers-test` project with Gradle.

## Contents
- [Create the Project Directory](#create-the-project-directory)
- [Use the Existing `build.gradle` File](#use-the-existing-buildgradle-file)
- [Write the Tests](#write-the-tests)
- [Start the Test Server](#start-the-test-server)
- [Run the Tests](#run-the-tests)
- [Gradle Basics](#gradle-basics)
    - [Gradle Directory Structure](#gradle-directory-structure)
    - [Gradle Tasks](#gradle-tasks)
- [References](#references)

We'll use [Gradle](http://www.gradle.org) to build and run this project. [JUnit](http://junit.org) is our unit testing framework.

If you use the code "as is", then you don't need to do any setup (other than [installing Gradle](https://github.com/tmarrs/json-at-work-examples/tree/master/appendix-a#install-gradle)).
If you're curious project directories & tasks, then take a look at the [Gradle Basics](#gradle-basics) section.


## Create the Project Directory
First, find a suitable directory for your projects.
`cd ~/projects`

Next, create the `speakers-test` directory and navigate there:
```
mkdir speakers-test

cd speakers-test
```

## Use the Existing `build.gradle` File
The project already has a ```build.gradle``` script file to describe dependencies, so you only need to test, compile, and clean. Please see the (`Writing Gradle Build Scripts` section of the Gradle User Guide)[https://docs.gradle.org/3.4.1/userguide/pt03.html] for further details on how to write a build script.


## Write the Tests
Now you're ready to start writing tests in the `src/test/java` directory.


## Start the Test Server
Don't forget to run the test server.
```
json-server -p 5000 ./src/test/resources/speakers.json
```


## Run the Tests
Create another terminal session and run the tests as follows:
```
cd chapter-4/speakers-test

gradle test
```


## Gradle Basics 
Let's cover just enough Gradle. This section was based on (Getting Started With Gradle: Our First Java Project)[https://www.petrikainulainen.net/programming/gradle/getting-started-with-gradle-our-first-java-project], by Petri Kainulainen.

### Gradle Directory Structure 
Here are the directories in a typical Gradle project.

| Directory            | Description                                                                      |
|:---------------------|:---------------------------------------------------------------------------------|
| `src/main/java`      | Java source code.                                                                |
| `src/main/resources` | Resources (e.g., Properties, data files (JSON in our case)) used by source code. |
| `src/test/java`      | Java test code.                                                                  |
| `src/test/resources` | Resources (e.g., Properties, data files (JSON in our case)) used by test code.   |
| `build`              | `.class` files generated by compiling source and test code.                      |
| `build/libs`         | JAR or WAR files that result from building the project.                          |

### Gradle Tasks 
Here are the most important Gradle Tasks (which you can see when you type the `gradle tasks` command).

| Command       | Description                                                                |
|:--------------|:---------------------------------------------------------------------------|
| `build`       | Build the project.                                                         |
| `classes`     | Compile Java source code.                                                  |
| `clean`       | Delete `build` directory.                                                  |
| `jar`         | Compile Java source code and package it (along with Resources) into a JAR. |
| `javadoc`     | Generate JavaDoc documentation from the Java source code.                  |
| `test`        | Run Unit tests (includes Java source and test code compile).               |
| `testClasses` | Compile Java test code.                                                    |


## References
* [Gradle User Guide](https://docs.gradle.org/3.4.1/userguide/userguide.html).
* (Getting Started With Gradle: Our First Java Project)[https://www.petrikainulainen.net/programming/gradle/getting-started-with-gradle-our-first-java-project].
* TOC generated by [md-toc](https://www.npmjs.com/package/md-toc).
